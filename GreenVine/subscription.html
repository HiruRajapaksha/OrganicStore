<!DOCTYPE html>
<html lang="en" class="">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Subscription - GreenVine Market</title>
    <style>
      /* Override text color of all direct child text elements when box selected in light mode */
      .subscription-box.selected :is(h2, p, ul, li, span, label) {
        color: #1a202c !important; /* Tailwind's gray-900 hex */
      }
      /* In dark mode, keep dark mode colors */
      @media (prefers-color-scheme: dark) {
        .subscription-box.selected :is(h2, p, ul, li, span, label) {
          color: inherit !important;
        }
      }
    </style>
  </head>
  <body
    class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-200 transition-colors duration-500 font-sans flex flex-col min-h-screen"
  >
    <div id="app"></div>

    <main class="max-w-[90vw] mx-auto px-6 py-20 flex-grow">
      <section class="max-w-3xl mx-auto text-center mb-16">
        <h1
          class="text-5xl font-extrabold mb-4 text-gray-900 dark:text-gray-100 drop-shadow-md"
        >
          Weekly Produce Boxes
        </h1>
        <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
          Get fresh, seasonal organic produce delivered to your door every week.
          Each box is carefully curated by our team and includes recipe cards to
          help you make the most of your fresh ingredients.
        </p>
      </section>

      <section
        class="grid grid-cols-1 md:grid-cols-3 gap-10 mx-auto px-4"
        aria-label="Subscription boxes"
        style="min-height: 450px"
      >
        <!-- Small Box -->
        <div
          role="radio"
          tabindex="0"
          aria-checked="false"
          class="subscription-box cursor-pointer rounded-3xl border border-gray-300 dark:border-gray-700 p-8 flex flex-col items-center text-center shadow-sm transition-transform transition-shadow duration-300 ease-in-out hover:-translate-y-2 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-green-500 min-h-[430px]"
          data-name="Small Box"
          data-price="£15.99/week"
        >
          <h2
            class="text-2xl font-semibold mb-1 text-green-700 dark:text-green-400"
          >
            Small Box
          </h2>
          <p class="mb-4 text-gray-600 dark:text-gray-400 italic">
            Perfect for 1-2 people
          </p>

          <p class="text-3xl font-bold mb-6">LKR.2990.00</p>
          <p class="mb-6 text-gray-600 dark:text-gray-400">per week</p>

          <ul
            class="space-y-3 text-gray-700 dark:text-gray-300 text-left max-w-xs text-lg"
            aria-label="Small box features"
          >
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              3-4 seasonal vegetables
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              2-3 fresh fruits
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              1 herb bundle
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              Seasonal recipe card
            </li>
          </ul>
        </div>

        <!-- Family Box -->
        <div
          role="radio"
          tabindex="0"
          aria-checked="true"
          class="subscription-box cursor-pointer rounded-3xl border border-gray-300 dark:border-gray-700 p-8 flex flex-col items-center text-center shadow-sm transition-transform transition-shadow duration-300 ease-in-out hover:-translate-y-2 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-green-500 min-h-[430px]"
          data-name="Family Box"
          data-price="£24.99/week"
        >
          <div
            class="absolute -top-7 left-1/2 -translate-x-1/2 px-5 py-1 rounded-full bg-yellow-400 dark:bg-yellow-500 text-gray-900 font-semibold uppercase tracking-wide select-none shadow-lg"
            aria-label="Most Popular"
          >
            Most Popular
          </div>

          <h2
            class="text-3xl font-bold mb-2 text-green-800 dark:text-green-300"
          >
            Family Box
          </h2>
          <p class="mb-5 text-gray-700 dark:text-gray-300 italic">
            Ideal for 3-4 people
          </p>

          <p class="text-4xl font-extrabold mb-8">LKR.4990.00</p>
          <p
            class="mb-8 text-gray-700 dark:text-gray-300 text-lg font-semibold"
          >
            per week
          </p>

          <ul
            class="space-y-4 text-green-800 dark:text-green-400 text-left max-w-xs text-lg font-semibold"
            aria-label="Family box features"
          >
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              6-8 seasonal vegetables
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              4-5 fresh fruits
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              2 herb bundles
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              1 artisan bread
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              Weekly recipe cards
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              Surprise seasonal item
            </li>
          </ul>
        </div>

        <!-- Large Box -->
        <div
          role="radio"
          tabindex="0"
          aria-checked="false"
          class="subscription-box cursor-pointer rounded-3xl border border-gray-300 dark:border-gray-700 p-8 flex flex-col items-center text-center shadow-sm hover:shadow-lg transition-shadow duration-300 ease-in-out hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-green-500 min-h-[430px]"
          data-name="Large Box"
          data-price="£34.99/week"
        >
          <h2
            class="text-2xl font-semibold mb-1 text-green-700 dark:text-green-400"
          >
            Large Box
          </h2>
          <p class="mb-4 text-gray-600 dark:text-gray-400 italic">
            Great for 5+ people
          </p>

          <p class="text-3xl font-bold mb-6">LKR.6990.00</p>
          <p class="mb-6 text-gray-600 dark:text-gray-400">per week</p>

          <ul
            class="space-y-3 text-gray-700 dark:text-gray-300 text-left max-w-xs"
            aria-label="Large box features"
          >
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              10-12 seasonal vegetables
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              6-8 fresh fruits
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              3 herb bundles
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              1 artisan bread
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              2 dairy/egg items
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              Weekly recipe cards
            </li>
            <li class="flex items-center gap-3">
              <svg
                class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path d="M20 6L9 17l-5-5" />
              </svg>
              Premium seasonal items
            </li>
          </ul>
        </div>
      </section>

      <!-- Subscription Form -->
      <section
        class="max-w-3xl mx-auto mt-20 p-8 bg-gray-50 dark:bg-gray-800 rounded-2xl shadow-lg"
      >
        <h2
          class="text-3xl font-bold mb-6 text-center text-gray-900 dark:text-gray-100"
        >
          Subscribe to Weekly Delivery
        </h2>
        <form id="subscriptionForm" class="space-y-6">
          <div>
            <label
              for="fullName"
              class="block mb-2 font-semibold text-gray-700 dark:text-gray-300"
            >
              Full Name <span class="text-red-500">*</span>
            </label>
            <input
              type="text"
              id="fullName"
              name="fullName"
              required
              class="w-full px-4 py-3 rounded-md border border-gray-300 bg-white focus:border-green-500 focus:ring focus:ring-green-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"
              placeholder="Your full name"
            />
          </div>
          <div>
            <label
              for="email"
              class="block mb-2 font-semibold text-gray-700 dark:text-gray-300"
            >
              Email Address <span class="text-red-500">*</span>
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-4 py-3 rounded-md border border-gray-300 bg-white focus:border-green-500 focus:ring focus:ring-green-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"
              placeholder="you@example.com"
            />
          </div>
          <div>
            <label
              for="address"
              class="block mb-2 font-semibold text-gray-700 dark:text-gray-300"
            >
              Address <span class="text-red-500">*</span>
            </label>
            <input
              type="text"
              id="address"
              name="address"
              required
              class="w-full px-4 py-3 rounded-md border border-gray-300 bg-white focus:border-green-500 focus:ring focus:ring-green-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"
              placeholder="Street address"
            />
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label
                for="city"
                class="block mb-2 font-semibold text-gray-700 dark:text-gray-300"
              >
                City <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="city"
                name="city"
                required
                class="w-full px-4 py-3 rounded-md border border-gray-300 bg-white focus:border-green-500 focus:ring focus:ring-green-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"
                placeholder="City"
              />
            </div>
            <div>
              <label
                for="postcode"
                class="block mb-2 font-semibold text-gray-700 dark:text-gray-300"
              >
                Postcode <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="postcode"
                name="postcode"
                required
                class="w-full px-4 py-3 rounded-md border border-gray-300 bg-white focus:border-green-500 focus:ring focus:ring-green-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"
                placeholder="Postcode"
              />
            </div>
          </div>
          <div>
            <label
              for="phone"
              class="block mb-2 font-semibold text-gray-700 dark:text-gray-300"
            >
              Phone Number
            </label>
            <input
              type="tel"
              id="phone"
              name="phone"
              class="w-full px-4 py-3 rounded-md border border-gray-300 bg-white focus:border-green-500 focus:ring focus:ring-green-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"
              placeholder="Optional phone number"
            />
          </div>

          <div>
            <p class="text-lg font-semibold text-gray-900 dark:text-gray-100">
              Selected Plan:
              <span id="selectedPlan" class="text-green-600 dark:text-green-400"
                >Family Box - £24.99/week</span
              >
            </p>
          </div>

          <button
            type="submit"
            class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg shadow-md transition-colors duration-300"
          >
            Start My Subscription
          </button>
        </form>
      </section>
    </main>

    <script>
      // Selection logic for subscription boxes
      const boxes = document.querySelectorAll(".subscription-box");
      const selectedPlanSpan = document.getElementById("selectedPlan");

      function selectBox(selectedBox) {
        boxes.forEach((box) => {
          if (box === selectedBox) {
            box.setAttribute("aria-checked", "true");

            box.classList.add(
              "border-green-600",
              "shadow-xl",
              "border-white",
              "selected",
              "-translate-y-4",
              "shadow-2xl",
              "text-gray-900", // dark text for light mode
              "dark:bg-yellow-900", // dark background in dark mode
              "dark:text-yellow-200" // light text for dark mode
            );
            box.classList.remove("bg-yellow-50");

            const name = box.getAttribute("data-name") ?? "";
            const price = box.getAttribute("data-price") ?? "";
            if (selectedPlanSpan) {
              selectedPlanSpan.textContent = `${name} - ${price}`;
            }
          } else {
            box.setAttribute("aria-checked", "false");

            box.classList.remove(
              "border-green-600",
              "shadow-xl",
              "border-white",
              "selected",
              "-translate-y-4",
              "shadow-2xl",
              "dark:bg-yellow-900",
              "dark:text-yellow-200",
              "text-gray-900"
            );

            box.classList.remove("bg-yellow-50");
          }
        });
      }

      boxes.forEach((box) => {
        box.addEventListener("click", () => selectBox(box));
        box.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            selectBox(box);
          }
        });
      });

      window.addEventListener("DOMContentLoaded", () => {
        const defaultBox = document.querySelector(
          ".subscription-box[aria-checked='true']"
        );
        if (defaultBox) {
          selectBox(defaultBox);
        }
      });

      // Optional: handle form submission
      const form = document.getElementById("subscriptionForm");
      form?.addEventListener("submit", (e) => {
        e.preventDefault();
        alert("Subscription started! Thank you.");
        form.reset();
        // Optionally reset selection or keep as is
      });
    </script>

    <!-- Features Section -->
    <section
      class="w-full max-w-7xl mx-auto mt-12 px-6 py-8 rounded-2xl shadow-md text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-900"
    >
      <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center">
        <div class="flex flex-col items-center space-y-3">
          <span class="text-5xl" aria-hidden="true">📦</span>
          <h3 class="text-2xl font-semibold">Flexible Delivery</h3>
          <p class="text-gray-700 dark:text-gray-400 max-w-xs">
            Skip weeks, pause, or cancel anytime. No commitment required.
          </p>
        </div>
        <div class="flex flex-col items-center space-y-3">
          <span class="text-5xl" aria-hidden="true">🌱</span>
          <h3 class="text-2xl font-semibold">100% Organic</h3>
          <p class="text-gray-700 dark:text-gray-400 max-w-xs">
            All produce is certified organic and sourced from local farms.
          </p>
        </div>
        <div class="flex flex-col items-center space-y-3">
          <span class="text-5xl" aria-hidden="true">📋</span>
          <h3 class="text-2xl font-semibold">Recipe Cards</h3>
          <p class="text-gray-700 dark:text-gray-400 max-w-xs">
            Get creative with weekly recipe cards tailored to your box contents.
          </p>
        </div>
      </div>
    </section>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
